<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gaming Platform - –ü–∞–Ω–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/components.css">
    <link rel="stylesheet" href="styles/dashboard.css">
</head>
<body>
    <header class="header">
        <nav class="nav container">
            <div class="logo">üéÆ GamePlatform</div>
            <ul class="nav-links">
                <li><a href="/" class="nav-link">–ì–ª–∞–≤–Ω–∞—è</a></li>
                <li><a href="/dashboard" class="nav-link active">–ü–∞–Ω–µ–ª—å</a></li>
            </ul>
            <div class="nav-auth" id="navAuth">
                <div class="user-balance" id="userBalance">
                    üí∞ <span id="balanceAmount">0</span>
                </div>
                <button onclick="gamePlatform.logout()" class="glass-button">–í—ã–π—Ç–∏</button>
            </div>
        </nav>
    </header>

    <main class="dashboard-main">
        <div class="container">
            <!-- Welcome Section -->
            <section class="dashboard-welcome">
                <div class="welcome-content">
                    <h1 id="welcomeTitle">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</h1>
                    <p>–£–ø—Ä–∞–≤–ª—è–π—Ç–µ —Å–≤–æ–∏–º–∏ –∑–∞—è–≤–∫–∞–º–∏ –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É</p>
                </div>
                <div class="quick-actions">
                    <button class="quick-action-btn" onclick="dashboard.showSubmissionModal()">
                        üì§ –ù–æ–≤–∞—è –∑–∞—è–≤–∫–∞
                    </button>
                </div>
            </section>

            <!-- Stats Overview -->
            <section class="stats-overview">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">üìä</div>
                        <div class="stat-content">
                            <h3 id="totalSubmissions">0</h3>
                            <p>–í—Å–µ–≥–æ –∑–∞—è–≤–æ–∫</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">‚è≥</div>
                        <div class="stat-content">
                            <h3 id="pendingSubmissions">0</h3>
                            <p>–ù–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–∏</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">‚úÖ</div>
                        <div class="stat-content">
                            <h3 id="approvedSubmissions">0</h3>
                            <p>–û–¥–æ–±—Ä–µ–Ω–æ</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üí∞</div>
                        <div class="stat-content">
                            <h3 id="totalEarnings">0</h3>
                            <p>–ó–∞—Ä–∞–±–æ—Ç–∞–Ω–æ</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Dashboard Tabs -->
            <section class="dashboard-tabs">
                <div class="tab-nav">
                    <button class="tab-btn active" data-tab="submissions">–ú–æ–∏ –∑–∞—è–≤–∫–∏</button>
                    <button class="tab-btn" data-tab="payouts">–ò—Å—Ç–æ—Ä–∏—è –≤—ã–ø–ª–∞—Ç</button>
                </div>

                <!-- Submissions Tab -->
                <div class="tab-content active" id="submissions-tab">
                    <div class="tab-header">
                        <h2>–ú–æ–∏ –∑–∞—è–≤–∫–∏</h2>
                        <div class="tab-actions">
                            <select id="statusFilter" class="form-select">
                                <option value="">–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã</option>
                                <option value="PENDING">–ù–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–∏</option>
                                <option value="APPROVED">–û–¥–æ–±—Ä–µ–Ω–æ</option>
                                <option value="REJECTED">–û—Ç–∫–ª–æ–Ω–µ–Ω–æ</option>
                            </select>
                            <button class="glass-button" onclick="dashboard.loadSubmissions()">üîÑ –û–±–Ω–æ–≤–∏—Ç—å</button>
                        </div>
                    </div>

                    <div class="submissions-container">
                        <div id="submissionsGrid" class="submissions-grid">
                            <!-- Submissions will be loaded here -->
                        </div>
                        <div id="submissionsLoading" class="loading-state hidden">
                            <div class="spinner"></div>
                            <p>–ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞—è–≤–æ–∫...</p>
                        </div>
                        <div id="submissionsEmpty" class="empty-state hidden">
                            <div class="empty-icon">üìã</div>
                            <h3>–ó–∞—è–≤–æ–∫ –ø–æ–∫–∞ –Ω–µ—Ç</h3>
                            <p>–°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ—é –ø–µ—Ä–≤—É—é –∑–∞—è–≤–∫—É, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å</p>
                            <button class="cta-button" onclick="dashboard.showSubmissionModal()">
                                –°–æ–∑–¥–∞—Ç—å –∑–∞—è–≤–∫—É
                            </button>
                        </div>
                        <div class="pagination" id="submissionsPagination">
                            <!-- Pagination will be added here -->
                        </div>
                    </div>
                </div>

                <!-- Payouts Tab -->
                <div class="tab-content" id="payouts-tab">
                    <div class="tab-header">
                        <h2>–ò—Å—Ç–æ—Ä–∏—è –≤—ã–ø–ª–∞—Ç</h2>
                    </div>

                    <div class="payouts-container">
                        <div id="payoutsTable" class="table-container">
                            <!-- Payouts table will be loaded here -->
                        </div>
                        <div id="payoutsLoading" class="loading-state hidden">
                            <div class="spinner"></div>
                            <p>–ó–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏ –≤—ã–ø–ª–∞—Ç...</p>
                        </div>
                        <div id="payoutsEmpty" class="empty-state hidden">
                            <div class="empty-icon">üí∞</div>
                            <h3>–í—ã–ø–ª–∞—Ç –ø–æ–∫–∞ –Ω–µ—Ç</h3>
                            <p>–°–æ–∑–¥–∞–≤–∞–π—Ç–µ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–∞—è–≤–∫–∏, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –ø–µ—Ä–≤—ã–µ –≤—ã–ø–ª–∞—Ç—ã</p>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- Submission Modal -->
    <div id="submissionModal" class="modal">
        <div class="modal-content large">
            <div class="modal-header">
                <h2 class="modal-title">–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∑–∞—è–≤–∫—É</h2>
                <button class="modal-close" onclick="gamePlatform.closeModal('submissionModal')">&times;</button>
            </div>
            <div class="modal-body">
                <form id="submissionForm" class="form">
                    <div class="form-group">
                        <label class="form-label" for="category">–ö–∞—Ç–µ–≥–æ—Ä–∏—è *</label>
                        <select id="category" name="category" class="form-select" required>
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="description">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                        <textarea id="description" name="description" class="form-input form-textarea" 
                                  placeholder="–û–ø–∏—à–∏—Ç–µ –≤–∞—à –º–æ–º–µ–Ω—Ç (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)" maxlength="500"></textarea>
                    </div>

                    <div class="form-group">
                        <label class="form-label">–§–∞–π–ª *</label>
                        <div class="file-upload" id="fileUpload">
                            <input type="file" id="file" name="file" class="file-upload-input" 
                                   accept="image/*,video/*" required>
                            <div class="file-upload-content">
                                <div class="file-upload-icon">üìÅ</div>
                                <div class="file-upload-text">
                                    <h3>–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–∞–π–ª —Å—é–¥–∞ –∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ –¥–ª—è –≤—ã–±–æ—Ä–∞</h3>
                                    <p>–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä: 100 –ú–ë<br>
                                       –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã: –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ –≤–∏–¥–µ–æ</p>
                                </div>
                            </div>
                        </div>
                        <div id="filePreview" class="file-preview hidden"></div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="gamePlatform.closeModal('submissionModal')">
                    –û—Ç–º–µ–Ω–∞
                </button>
                <button type="button" class="btn btn-primary" onclick="dashboard.submitForm()" id="submitBtn">
                    –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É
                </button>
            </div>
        </div>
    </div>

    <!-- Submission Details Modal -->
    <div id="submissionDetailsModal" class="modal">
        <div class="modal-content large">
            <div class="modal-header">
                <h2 class="modal-title">–î–µ—Ç–∞–ª–∏ –∑–∞—è–≤–∫–∏</h2>
                <button class="modal-close" onclick="gamePlatform.closeModal('submissionDetailsModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div id="submissionDetailsContent">
                    <!-- Content will be loaded dynamically -->
                </div>
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="loading-overlay hidden">
        <div class="loading-spinner">
            <div class="spinner"></div>
            <p>–ó–∞–≥—Ä—É–∑–∫–∞...</p>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div id="successToast" class="toast toast-success hidden">
        <div class="toast-content">
            <span class="toast-icon">‚úÖ</span>
            <span class="toast-message"></span>
        </div>
    </div>

    <div id="errorToast" class="toast toast-error hidden">
        <div class="toast-content">
            <span class="toast-icon">‚ùå</span>
            <span class="toast-message"></span>
        </div>
    </div>

    <script src="scripts/main.js"></script>
    <script src="scripts/auth.js"></script>
    <script src="scripts/dashboard.js"></script>
</body>
</html>